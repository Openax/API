openapi: 3.0.0
info:
  title: Openax
  description: |
    # Introduction to API

    The API allows you to automate your own business processes.

    Whether it is automating payouts to your vendors or fetching transactions into your own application, this documentation is the place to start.

    ## Setting up your app to access API

    You will need to authorise your application to access your Openax account via API. You can do this via the [API settings page](url).

    First, create a public/private key-pair. Copy and paste the `.cer` file into the certificate field "X509 public key".

    Include here your OAuth Redirect URI, where you will be redirected after consenting the application to access your Openax account.

    ### Generate a private and public key

    ```json

    openssl genrsa -out privatekey.pem 1024
    openssl req -new -x509 -key privatekey.pem -out publickey.cer -days 1825
    ```

    ## Consenting the application

    Click "Enable API access to your account" from the Openax APP UI and you will be redirected to the /app-confirm URL. Authorise the application using 2FA.

    You will then be redirected again, this time where you will obtain an authorisation_code. A client_id will also be created for your account and surfaced via UI.

    ## Generating a client assertion

    To exchange your authorisation code for access token you should also provide a client_assertion JWT. It should be signed with you private key.

    See a sample JWT header and payload to the right.

    Note: to check that your JWT is valid, please use this [JWT debugging tool](https://jwt.io/#debugger-io) before attempting to register.

    JWT Header

    ```json
    {
      "alg": "RS256",
      "typ": "JWT"
    }
    ```

    JWT Payload

    ```json
    {
      "iss": <insert your_domain>,
      "sub": <insert client_id>,
      "aud": "https://openax.com",
      "exp": 1606851519
    }
    ```

    | FIELD | DESCRIPTION                                     | REQUIRED | SCHEMA |
    | ----- | ----------------------------------------------- | -------- | ------ |
    | iss   | Domain from redirect_url (without http&#x3A;//) | Yes      | Text   |
    | A2    | B2                                              | C2       |        |
    | A3    | B3                                              | C3       |        |

    ## Exchanging authorisation code for access token

    Use the authorisation_code, client_assertion and client_id from previous steps to exchange for an access token that can be used on our APIs.

    ```json http
    {
      "method": "post",
      "url": "https://todos.stoplight.io/todos",
      "headers": {
        "Content-Type": "application/x-www-form-urlencoded"
      },
      "body": {
        "grant_type": "authorization_code",
        "code": "<insert authorisation_code>",
        "client_id": "insert client_id"
      }
    }
    ```

    ```json
    curl --request POST \
      --url https://todos.stoplight.io/todos \
      --header 'Content-Type: application/x-www-form-urlencoded' \
      --data grant_type=authorization_code \
      --data 'code=<insert authorisation_code>' \
      --data 'client_id=insert client_id'
    ```
  termsOfService: 'https://openax.com'
  contact:
    email: apiteam@openax.com
    name: Team API
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
  version: 1.0.0
paths:
  /api/v1/counterparty/add:
    post:
      summary: Create a  counterparty
      operationId: postNewBeneficiary
      responses:
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  id:
                    type: string
                    minLength: 1
                    format: uuid
                  created_at:
                    type: string
                    minLength: 1
                  first_name:
                    type: string
                    minLength: 1
                  last_name:
                    type: string
                    minLength: 1
                  company_name:
                    type: string
                    minLength: 1
                  status:
                    type: string
                    minLength: 1
                    enum:
                      - accepted
                      - refused
                  type:
                    type: string
                    minLength: 1
                    enum:
                      - individual
                      - corporate
                  nickname:
                    type: string
                    minLength: 4
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        minLength: 1
                      city:
                        type: string
                        minLength: 1
                      country:
                        type: string
                        minLength: 1
                required:
                  - id
                  - created_at
                  - status
                  - type
                  - nickname
              examples:
                example-1:
                  value:
                    id: 045777b4-46af-4a7e-a457-27422d435453
                    created_at: '2021-01-21T17:02:30.774Z'
                    first_name: Kazimir
                    last_name: Nissim
                    status: accepted
                    type: individual
                    nickname: some nickname
                    address:
                      street: king road 2
                      city: london
                      country: US
                example-2:
                  value:
                    id: 045777b4-46af-4a7e-a457-27422d435453
                    created_at: '2021-01-21T17:02:30.774Z'
                    status: accepted
                    type: corporate
                    nickname: some nickname
                    address:
                      street: king road 2
                      city: london
                      country: US
        '406':
          description: Unauthorized
      description: Endpoint to create a new wallet information and wallets
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                type:
                  type: string
                  minLength: 1
                  enum:
                    - individual
                    - corporate
                first_name:
                  type: string
                  minLength: 1
                last_name:
                  type: string
                  minLength: 1
                company_name:
                  type: string
                  minLength: 1
                nickname:
                  type: string
                  description: you can add any nickname
                  minLength: 4
                address:
                  type: object
                  required:
                    - street
                    - city
                    - country
                    - postal_code
                    - state
                  properties:
                    street:
                      type: string
                    city:
                      type: string
                    country:
                      type: string
                    postal_code:
                      type: string
                    state:
                      type: string
              required:
                - type
                - address
            examples:
              Exemple corporate method sepa:
                value:
                  type: corporate
                  first_name: ff
                  last_name: gg
                  company_name: Company name
                  nickname: Company nickname
                  fullname: ddd
                  address:
                    street: ''
                    city: ''
                    country: ''
                    postal_code: ''
                    state: ''
              Exemple individual method swift:
                value:
                  nickname: nickname
                  first_name: First name
                  last_name: Last Name
                  type: individual
                  address:
                    street: ''
                    city: ''
                    country: ''
                    postal_code: ''
                    state: ''
        description: Create a new beneficiary
      tags:
        - Counterparty
    parameters: []
  '/api/v1/counterparty/{id}':
    get:
      summary: Get counterparty from id
      operationId: getBeneficiary
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                description: ''
                type: object
              examples:
                Exemple get one counterparty:
                  value:
                    id: fe06e4b7-cd84-462f-9b10-86f6c0b57313
                    nickname: Company nickname
                    company_name: Company name
                    type: corporate
                    address:
                      street: ''
                      city: ''
                      country: ''
                      postal_code: ''
                      state: ''
                    wallets:
                      - bic: OPEXGB2L
                        iban: GB73OPEX00993040952115
                        currency_id: EUR
                        method: sepa
                        country_id: FR
                        id: fe06e4b7-cd84-462f-9b10-86f6c0b57325
            application/xml:
              schema:
                type: object
                properties: {}
            multipart/form-data:
              schema:
                type: object
                properties: {}
            text/html:
              schema:
                type: object
                properties: {}
        '400':
          description: Invalid request
        '404':
          description: No beneficiaries found
      parameters: []
      description: Get wallet information by ID
      tags:
        - Counterparty
    parameters:
      - schema:
          type: string
          format: uuid
        name: id
        in: path
        description: Id of beneficiary to return
        required: true
  /api/v1/counterparty:
    parameters: []
    delete:
      summary: Counterparty
      operationId: delete-api-v1-counterparty-delete-id
      responses:
        '200':
          description: OK
      tags:
        - Counterparty
  /api/v1/counterparties:
    get:
      summary: Counterparty Get all
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          minLength: 1
                          format: uuid
                        created_at:
                          type: string
                          minLength: 1
                          format: date-time
                        nickname:
                          type: string
                          minLength: 1
                        address:
                          type: object
                          properties:
                            street:
                              type: string
                              minLength: 1
                            city:
                              type: string
                              minLength: 1
                            country:
                              type: string
                              minLength: 1
                            postcode:
                              type: string
                              minLength: 1
                          required:
                            - country
                        wallets:
                          type: array
                          uniqueItems: true
                          minItems: 1
                          items:
                            type: object
                            properties:
                              iban:
                                type: string
                                minLength: 1
                              bic:
                                type: string
                                minLength: 1
                              currency_id:
                                type: string
                                minLength: 1
                              method:
                                type: string
                              country_id:
                                type: string
                        status:
                          type: string
                          enum:
                            - accepted
                            - refused
                      required:
                        - id
                        - created_at
                        - nickname
                        - status
                  count:
                    type: number
                  per_page:
                    type: number
                  page:
                    type: number
                  page_count:
                    type: number
                required:
                  - data
                  - count
                  - per_page
                  - page
                  - page_count
              examples:
                All data:
                  value:
                    data:
                      - id: 497f6eca-6276-4993-bfeb-53cbbbba6f08
                        created_at: '2019-08-24T14:15:22Z'
                        name: Dupont Martin
                        status: accepted
                        address:
                          street_line1: Rue de paris 123
                          city: Paris
                          country: fr
                        bank_accounts:
                          - iban: FR7630006000011234567890189
                            bic: ACEMFRP1
                            currency: EUR
                      - id: 497f6eca-6276-4993-bfeb-53cbbbba6f08
                        created_at: '2019-08-24T14:15:22Z'
                        name: Charles Corp
                        status: accepted
                        address:
                          street_line1: King's street 321
                          city: London
                          country: uk
                        bank_accounts:
                          - iban: GB98MIDL07009312345678
                            bic: ABCMGB21
                            currency: EUR
                    count: 2
                    per_page: 10
                    page: 1
                    page_count: 1
      operationId: get-api-beneficiaries
      description: This endpoint to return all your counterparties
      parameters:
        - schema:
            type: number
            minimum: 0
          in: query
          name: begin
      tags:
        - Counterparty
    parameters: []
  /api/v1/payout/add:
    post:
      summary: Add a payout
      operationId: post-bank-add
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  id:
                    type: string
                    minLength: 1
                  created_at:
                    type: string
                  status:
                    type: string
                    minLength: 1
                  mode:
                    type: string
                    minLength: 1
                  type:
                    type: string
                    minLength: 1
                  method:
                    type: string
                    minLength: 1
                  amount:
                    type: number
                  method_type:
                    type: string
                    minLength: 1
                  schedule_for:
                    type: string
                    minLength: 1
                  reason:
                    type: string
                    minLength: 1
                  debitor:
                    type: object
                    properties:
                      bic:
                        type: string
                        minLength: 1
                      iban:
                        type: string
                        minLength: 1
                      name:
                        type: string
                        minLength: 1
                    required:
                      - bic
                      - iban
                      - name
                  creditor:
                    type: object
                    properties:
                      bic:
                        type: string
                        minLength: 1
                      iban:
                        type: string
                        minLength: 1
                      name:
                        type: string
                        minLength: 1
                      method:
                        type: string
                        minLength: 1
                    required:
                      - bic
                      - iban
                      - name
                      - method
                  currency_id:
                    type: string
                    minLength: 1
                required:
                  - id
                  - created_at
                  - status
                  - mode
                  - type
                  - method
                  - amount
                  - method_type
                  - schedule_for
                  - reason
                  - debitor
                  - creditor
                  - currency_id
              examples:
                example normal:
                  value:
                    id: ba6c2e77-6276-4993-bfeb-9604dbeb2c57
                    created_at: ''
                    status: pending
                    mode: debit
                    type: transfer
                    method: sepa
                    amount: 5
                    method_type: normal
                    schedule_for: '2021-01-17'
                    reason: Invoice 35
                    debitor:
                      bic: OPEXGB2L
                      iban: GB73OPEX00993040952115
                      name: John Smith
                    creditor:
                      bic: OPEXGB2L
                      iban: GB73OPEX00993040952115
                      name: Tom Smith
                      method: sepa
                    currency_id: EUR
      description: Endpoint to create a new payout
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                bank_account_id:
                  type: string
                  minLength: 1
                  format: uuid
                amount:
                  type: number
                currency_id:
                  type: string
                  minLength: 1
                  description: 'three lette ISO code, only if you have many wallets.'
                scheduled_for:
                  type: string
                  minLength: 1
                  format: date
                  example: '2020-12-07'
                reason:
                  type: string
                  minLength: 1
                method_type:
                  type: string
                  enum:
                    - normal
                    - turbo
                wallet_id:
                  type: string
              required:
                - bank_account_id
                - amount
                - currency_id
                - wallet_id
            examples:
              example-2:
                value:
                  bank_account_id: 322be1f9-8204-4aa8-9b87-0cb2a58f8afb
                  amount: 0
                  currency_id: EUR
                  scheduled_for: '2020-12-07'
                  method_type: normal
                  wallet_id: 322be1f9-8204-4aa8-9b87-0cb2a58f8afb
          application/xml:
            schema:
              type: object
              properties: {}
        description: Post a new payout
      tags:
        - Payout
    parameters: []
  /api/transactions:
    get:
      summary: get all transactions
      operationId: getAllTransactions
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          minLength: 1
                          enum:
                            - sepa
                            - swift
                        mode:
                          type: string
                          minLength: 1
                          enum:
                            - debit
                            - credit
                        id:
                          type: string
                          minLength: 1
                          format: uuid
                        created_at:
                          type: string
                          minLength: 1
                          format: date-time
                        amount:
                          type: string
                          minLength: 1
                        name:
                          type: string
                          minLength: 1
                        currency_id:
                          type: string
                          minLength: 1
                          description: three letter ISO code
                        updated_at:
                          type: string
                        completed_at:
                          type: string
                        creditor:
                          type: object
                        debitor:
                          type: object
                  count:
                    type: number
                  per_page:
                    type: number
                  page:
                    type: number
                  page_count:
                    type: number
              examples:
                Response All Transactions:
                  value:
                    data:
                      - id: ec64fc60-eb25-4606-9b00-0b0c4244c647
                        created_at: '2020-12-07T13:38:36.111Z'
                        update_at: ''
                        completed_at: ''
                        type: transfer
                        mode: credit
                        payin: {}
                      - id: ec64fc60-eb25-4606-9b00-0b0c4244c647
                        created_at: '2020-12-07T13:38:36.111Z'
                        update_at: ''
                        completed_at: ''
                        type: transfer
                        mode: debit
                        payout: {}
                    count: 2
                    per_page: 10
                    page: 1
                    page_count: 1
        '404':
          description: No Records found
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                example-1:
                  value:
                    error: No record found
      parameters:
        - schema:
            type: string
            format: date
            example: '2020-05-21'
          in: query
          name: from
          description: Filters Created_at
        - schema:
            type: string
            format: date
            example: '2020-06-21'
          in: query
          name: to
          description: filters Created_at (default is now)
        - schema:
            type: number
          in: query
          name: begin
          description: record to begin with (start at 0)
      description: |-
        Endpoint to retrieve all transactions

        Pagination is supported. You receive a limit of 25 records per request. In the response you receive  the count of records, so you can send the next request with the query param begin with the correct value in order to get the next records
      tags:
        - Transaction
  /api/mandate/add:
    post:
      summary: Create new mandate
      operationId: post-api-mandate-add
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  id:
                    type: string
                    minLength: 1
                    format: uuid
                  status:
                    type: string
                    minLength: 1
                required:
                  - id
                  - status
              examples:
                example-1:
                  value:
                    id: 94737c2a-72bb-4a46-a74f-51e9bbb07358
                    status: new
      tags:
        - mandate
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                iban:
                  type: string
                  minLength: 1
                  description: Debitor Iban
                bic:
                  type: string
                  minLength: 1
                  description: Debitor Bic
                name:
                  type: string
                  minLength: 1
                  description: Debitor Name
                signature_date:
                  type: string
                  minLength: 1
                schema_id:
                  type: string
                  minLength: 1
                  description: Your Creditor Scheme ID
                reference:
                  type: string
                  minLength: 1
                  description: Your Unique reference for this mandate
                type:
                  type: string
                  minLength: 1
                  enum:
                    - OOFF
                    - RCUR
                email:
                  type: string
                  minLength: 1
                code_tel:
                  type: string
                  minLength: 1
                phone:
                  type: string
                  minLength: 1
                currency:
                  type: string
              required:
                - iban
                - bic
                - name
                - signature_date
                - schema_id
                - reference
                - type
                - email
                - code_tel
                - phone
                - currency
            examples:
              example-1:
                value:
                  iban: MT61PYMX09014000000407910100001
                  bic: XPAYLT20XXX
                  name: Debitor Name
                  signature_date: '2020-11-15'
                  schema_id: LT02ZZZ777777000
                  reference: mandate-number-one
                  type: RCUR
                  email: example@example.com
                  code_tel: '33'
                  phone: '609090541'
                  currency: EUR
  '/api/mandate/{id}':
    get:
      summary: Get one mandate
      tags:
        - mandate
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  status:
                    type: string
                    minLength: 1
                  type:
                    type: string
                    minLength: 1
                    enum:
                      - OOFF
                      - RCUR
                  code_tel:
                    type: string
                    minLength: 1
                  id:
                    type: string
                    minLength: 1
                    format: uuid
                  created_at:
                    type: string
                    minLength: 1
                    format: date-time
                  updated_at:
                    type: string
                    minLength: 1
                    format: date-time
                  schema_id:
                    type: string
                    minLength: 1
                  name:
                    type: string
                    minLength: 1
                  iban:
                    type: string
                    minLength: 1
                  bic:
                    type: string
                    minLength: 1
                  email:
                    type: string
                    minLength: 1
                  signature_date:
                    type: string
                    minLength: 1
                    format: date
                  phone:
                    type: string
                    minLength: 1
                  reference:
                    type: string
                    minLength: 1
                  currency:
                    type: string
                    minLength: 1
                    description: three letter ISO code
                required:
                  - status
                  - type
                  - code_tel
                  - id
                  - created_at
                  - updated_at
                  - schema_id
                  - name
                  - iban
                  - bic
                  - email
                  - signature_date
                  - phone
                  - reference
                  - currency
              examples:
                example-1:
                  value:
                    status: new
                    type: RCUR
                    code_tel: '33'
                    id: 6b5c84a4-611e-4de1-99bf-1810859e0e4e
                    created_at: '2020-12-07T14:27:40.604Z'
                    updated_at: '2020-12-07T14:27:40.604Z'
                    schema_id: LT02ZZZ777777000
                    name: Debitor Name
                    iban: MT61PYMX09014000000407910100001
                    bic: XPAYLT20XXX
                    email: example@example.com
                    signature_date: '2020-11-15'
                    phone: '609090541'
                    reference: mandate-number-one
                    currency: EUR
      operationId: get-api-mandate
      description: endpoint to return one mandate
    parameters:
      - schema:
          type: string
          format: uuid
        name: id
        in: path
        required: true
        description: Id of the Mandate to return
    delete:
      summary: Delete a mandate
      operationId: delete-api-mandate-id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  result:
                    type: string
                    default: success
                required:
                  - id
                  - result
              examples:
                example-1:
                  value:
                    id: 497f6eca-6276-4993-bfeb-53cbbbba6f08
                    result: success
      description: Ebdpoint to delete a mandate
      tags:
        - mandate
  /api/mandates:
    get:
      summary: Get all mandates
      tags:
        - mandate
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      type: object
                      properties:
                        status:
                          type: string
                          minLength: 1
                        type:
                          type: string
                          minLength: 1
                          enum:
                            - OOFF
                            - RCUR
                        id:
                          type: string
                          minLength: 1
                          format: uuid
                        created_at:
                          type: string
                          minLength: 1
                          format: date-time
                        name:
                          type: string
                          minLength: 1
                        iban:
                          type: string
                          minLength: 1
                        bic:
                          type: string
                          minLength: 1
                        signature_date:
                          type: string
                          minLength: 1
                        reference:
                          type: string
                          minLength: 1
                        currency:
                          type: string
                          minLength: 1
                      required:
                        - status
                        - type
                        - id
                        - created_at
                        - name
                        - iban
                        - bic
                        - signature_date
                        - reference
                        - currency
                  count:
                    type: number
                  per_page:
                    type: number
                  page:
                    type: number
                  page_count:
                    type: number
                required:
                  - data
                  - count
                  - per_page
                  - page
                  - page_count
              examples:
                example-1:
                  value:
                    data:
                      - status: new
                        type: RCUR
                        id: 6b5c84a4-611e-4de1-99bf-1810859e0e4e
                        created_at: '2020-12-07T14:27:40.604Z'
                        name: Debitor Name
                        iban: MT61PYMX09014000000407910100001
                        bic: XPAYLT20XXX
                        signature_date: '2020-11-15'
                        reference: mandate-number-one
                        currency: EUR
                      - status: new
                        type: OOFF
                        id: 0ff3492d-28b9-4225-8895-b55643454388
                        created_at: '2020-12-07T14:27:31.940Z'
                        name: Debitor Name
                        iban: MT61PYMX09014000000407910100001
                        bic: XPAYLT20XXX
                        signature_date: '2020-11-14'
                        reference: mandate-number-two
                        currency: EUR
                    count: 2
                    per_page: 10
                    page: 1
                    page_count: 1
      operationId: get-api-mandates
      description: Endpoint to return all your mandates
      parameters:
        - schema:
            type: number
            minimum: 0
          in: query
          name: begin
  /api/directdebit/add:
    post:
      summary: Create new direct debit
      operationId: post-api-directdebit-add
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  id:
                    type: string
                    minLength: 1
                    format: uuid
                  status:
                    type: string
                    minLength: 1
                required:
                  - id
                  - status
              examples:
                example-1:
                  value:
                    id: 2ede111a-8611-4100-8a3f-e35cfa5b7965
                    status: new
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                mandate_id:
                  type: string
                  minLength: 1
                  format: uuid
                ledger_id:
                  type: string
                  minLength: 1
                  format: uuid
                iban_id:
                  type: string
                  minLength: 1
                  format: uuid
                currency:
                  type: string
                  minLength: 1
                  description: three letter ISO code
                amount:
                  type: number
                collection_date:
                  type: string
                  minLength: 1
                  format: date
                reason:
                  type: string
                  minLength: 1
                sequence:
                  type: string
                  enum:
                    - RCUR
                    - OOFF
                    - FRST
                    - FNAL
              required:
                - mandate_id
                - ledger_id
                - iban_id
                - currency
                - amount
                - collection_date
                - reason
                - sequence
            examples:
              example-1:
                value:
                  mandate_id: 9c47f0be-72b8-4c07-8a43-7d9dbd4ad78b
                  ledger_id: ba6c2e77-7d5d-4a1e-936e-e524bb7cb1ea
                  iban_id: d92198b0-9087-4381-aa8f-169f7e9d6d47
                  currency: EUR
                  amount: 3
                  collection_date: '2020-12-07'
                  reason: Invoice 25
                  sequence: RCUR
        description: ''
      tags:
        - Direct Debit
  '/api/directdebit/{id}':
    get:
      summary: Get one direct debit
      tags:
        - Direct Debit
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  status:
                    type: string
                    minLength: 1
                  id:
                    type: string
                    minLength: 1
                    format: uuid
                  created_at:
                    type: string
                    minLength: 1
                    format: date-time
                  updated_at:
                    type: string
                    minLength: 1
                    format: date-time
                  amount:
                    type: string
                    minLength: 1
                  reason:
                    type: string
                    minLength: 1
                  collection_date:
                    type: string
                    minLength: 1
                    format: date
                  settlement_date:
                    type: string
                    format: date
                  info:
                    type: string
                  name:
                    type: string
                    minLength: 1
                  reference:
                    type: string
                    minLength: 1
                  currency:
                    type: string
                    minLength: 1
                required:
                  - status
                  - id
                  - created_at
                  - updated_at
                  - amount
                  - reason
                  - collection_date
                  - name
                  - reference
                  - currency
              examples:
                example-1:
                  value:
                    status: in_progress
                    id: 2ede111a-8611-4100-8a3f-e35cfa5b7965
                    created_at: '2020-12-07T13:56:01.731Z'
                    updated_at: '2020-12-07T13:56:01.731Z'
                    amount: '3'
                    reason: Invoice 25
                    collection_date: '2020-12-07'
                    settlement_date: '2020-12-07'
                    info: ready to send
                    name: Debitor Name
                    reference: mandate-number-one
                    currency: EUR
      operationId: get-api-directdebit
      description: Endpoint to return one direct debit
    parameters:
      - schema:
          type: string
          format: uuid
        name: id
        in: path
        required: true
        description: ID of the direct debit to return
  /api/directdebits:
    get:
      summary: Get all direct debit
      tags:
        - Direct Debit
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      type: object
                      properties:
                        status:
                          type: string
                          minLength: 1
                        id:
                          type: string
                          minLength: 1
                          format: uuid
                        created_at:
                          type: string
                          minLength: 1
                          format: date-time
                        amount:
                          type: string
                          minLength: 1
                        reason:
                          type: string
                          minLength: 1
                        collection_date:
                          type: string
                          minLength: 1
                          format: date
                        settlement_date:
                          type: string
                          format: date
                        name:
                          type: string
                          minLength: 1
                        reference:
                          type: string
                          minLength: 1
                        currency:
                          type: string
                          minLength: 1
                      required:
                        - status
                        - id
                        - created_at
                        - amount
                        - reason
                        - collection_date
                        - name
                        - reference
                        - currency
                  count:
                    type: number
                  per_page:
                    type: number
                  page:
                    type: number
                  page_count:
                    type: number
                required:
                  - data
                  - count
                  - per_page
                  - page
                  - page_count
              examples:
                example-1:
                  value:
                    data:
                      - status: new
                        id: 2ede111a-8611-4100-8a3f-e35cfa5b7965
                        created_at: '2020-12-07T13:56:01.731Z'
                        amount: '3'
                        reason: Invoice 25
                        collection_date: '2020-12-07'
                        settlement_date: '2020-12-07'
                        name: Debitor Name
                        reference: mandate-number-one
                        currency: EUR
                      - status: new
                        id: a4317636-ac8f-46a8-90ee-9a093edeb256
                        created_at: '2020-12-07T13:55:33.253Z'
                        amount: '3'
                        reason: Invoice 25
                        collection_date: '2020-12-07'
                        settlement_date: '2020-12-07'
                        name: Debitor Name
                        reference: mandate-number-two
                        currency: EUR
                    count: 2
                    per_page: 10
                    page: 1
                    page_count: 1
      operationId: get-api-directdebits
      parameters:
        - schema:
            type: number
            minimum: 0
          in: query
          name: begin
  /api/debits:
    get:
      summary: Get Debits
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - status
                        - id
                        - created_at
                        - amount
                        - reason
                        - settlement_date
                      properties:
                        status:
                          type: string
                          minLength: 1
                        id:
                          type: string
                          minLength: 1
                        created_at:
                          type: string
                          minLength: 1
                        amount:
                          type: string
                          minLength: 1
                        reason:
                          type: string
                          minLength: 1
                        settlement_date:
                          type: string
                          minLength: 1
                        Currency:
                          type: object
                          properties:
                            symbol:
                              type: string
                              minLength: 1
                          required:
                            - symbol
                        Mandatereceive:
                          type: object
                          properties:
                            name:
                              type: string
                              minLength: 1
                          required:
                            - name
                  count:
                    type: number
                  per_page:
                    type: number
                  page:
                    type: number
                  page_count:
                    type: number
                required:
                  - data
                  - count
                  - per_page
                  - page
                  - page_count
              examples:
                example-1:
                  value:
                    data:
                      - status: completed
                        id: 31b377c1-9f6f-4430-9465-564672d8674c
                        created_at: '2020-12-21T13:36:29.539Z'
                        amount: '12'
                        reason: Invoice 25
                        settlement_date: '2020-12-21'
                        Currency:
                          symbol: EUR
                        Mandatereceive:
                          name: John Corp
                      - status: completed
                        id: b729bc71-10a9-4a65-9426-ca5527488e16
                        created_at: '2020-12-21T13:36:44.407Z'
                        amount: '23'
                        reason: Invoice 26
                        settlement_date: '2020-12-21'
                        Currency:
                          symbol: EUR
                        Mandatereceive:
                          name: Smith Corp
                    count: 2
                    per_page: 10
                    page: 1
                    page_count: 1
      operationId: get-api-debits
      tags:
        - Debit
      description: Get all debits order presented to your account
  /api/debit:
    get:
      summary: Get one Debit
      tags:
        - Debit
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  status:
                    type: string
                    minLength: 1
                  id:
                    type: string
                    minLength: 1
                  created_at:
                    type: string
                    minLength: 1
                  amount:
                    type: string
                    minLength: 1
                  reason:
                    type: string
                    minLength: 1
                  settlement_date:
                    type: string
                    minLength: 1
                  Currency:
                    type: object
                    required:
                      - symbol
                    properties:
                      symbol:
                        type: string
                        minLength: 1
                  Mandatereceive:
                    type: object
                    required:
                      - status
                      - name
                      - signature_date
                      - reference
                    properties:
                      status:
                        type: string
                        minLength: 1
                      name:
                        type: string
                        minLength: 1
                      signature_date:
                        type: string
                        minLength: 1
                      reference:
                        type: string
                        minLength: 1
                required:
                  - status
                  - id
                  - created_at
                  - amount
                  - reason
                  - settlement_date
                  - Currency
                  - Mandatereceive
              examples:
                example-1:
                  value:
                    status: completed
                    id: 2b608cbb-9894-46da-9035-bbea0f8b1774
                    created_at: '2020-12-21T13:43:17.927Z'
                    amount: '1'
                    reason: Invoice 25
                    settlement_date: '2020-12-21'
                    Currency:
                      symbol: EUR
                    Mandatereceive:
                      status: accepted
                      name: Creditor Name
                      signature_date: '2020-11-15'
                      reference: mandate-receive-three
      operationId: get-api-debit
      description: Endpoint to find one debit
  /api/V1/transactions:
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          minLength: 1
                        created_at:
                          type: string
                        updated_at:
                          type: string
                        completed_at:
                          type: string
                        currency_id:
                          type: string
                          minLength: 1
                        status:
                          type: string
                          minLength: 1
                        mode:
                          type: string
                          minLength: 1
                          enum:
                            - debit
                            - credit
                        type:
                          type: string
                          minLength: 1
                          enum:
                            - transfer
                        method:
                          type: string
                          minLength: 1
                          enum:
                            - sepa
                            - swift
                        amount:
                          type: number
                        method_type:
                          type: string
                          minLength: 1
                        schedule_for:
                          type: string
                          minLength: 1
                        reason:
                          type: string
                          minLength: 1
                        debitor:
                          type: object
                          properties:
                            bic:
                              type: string
                              minLength: 1
                            iban:
                              type: string
                              minLength: 1
                            name:
                              type: string
                              minLength: 1
                          required:
                            - bic
                            - iban
                            - name
                        creditor:
                          type: object
                          properties:
                            bic:
                              type: string
                              minLength: 1
                            iban:
                              type: string
                              minLength: 1
                            name:
                              type: string
                              minLength: 1
                            method:
                              type: string
                              minLength: 1
                          required:
                            - bic
                            - iban
                            - name
                            - method
                      required:
                        - id
                        - created_at
                        - updated_at
                        - completed_at
                        - currency_id
                        - status
                        - mode
                        - type
                        - method
                        - amount
                        - method_type
                        - schedule_for
                        - reason
                  count:
                    type: number
                  per_page:
                    type: number
                  page:
                    type: number
                  page_count:
                    type: number
                required:
                  - data
                  - count
                  - per_page
                  - page
                  - page_count
              examples:
                example-1:
                  value:
                    data:
                      - id: ba6c2e77-6276-4993-bfeb-9604dbeb2c57
                        created_at: ''
                        updated_at: ''
                        completed_at: ''
                        currency_id: EUR
                        status: pending
                        mode: debit
                        type: transfer
                        method: sepa
                        amount: 5
                        method_type: normal
                        schedule_for: '2021-01-17'
                        reason: Invoice 35
                        debitor:
                          bic: OPEXGB2L
                          iban: GB73OPEX00993040952115
                          name: John Smith
                        creditor:
                          bic: OPEXGB2L
                          iban: GB73OPEX00993040952115
                          name: Tom Smith
                          method: sepa
                      - id: ba6c2e77-6276-4993-bfeb-9604dbeb2c59
                        created_at: ''
                        updated_at: ''
                        completed_at: ''
                        currency_id: EUR
                        status: pending
                        mode: debit
                        type: transfer
                        method: sepa
                        amount: 5
                        method_type: normal
                        schedule_for: '2021-01-17'
                        reason: Invoice 35
                        debitor:
                          bic: OPEXGB2L
                          iban: GB73OPEX00993040952115
                          name: John Smith
                        creditor:
                          bic: OPEXGB2L
                          iban: GB73OPEX00993040952115
                          name: Tom Smith
                          method: sepa
                    count: 2
                    per_page: 10
                    page: 1
                    page_count: 1
      operationId: get-api-V1-transactions
  /api/v1/wallet/add:
    post:
      summary: Add Wallet
      operationId: post-api-v1-wallet-add
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                iban:
                  type: string
                bic:
                  type: string
                method:
                  type: string
                currency_id:
                  type: string
                country_id:
                  type: string
                counterparty_id:
                  type: string
              required:
                - iban
                - bic
                - method
                - currency_id
                - country_id
                - counterparty_id
            examples:
              example-1:
                value:
                  iban: string
                  bic: string
                  method: string
                  currency_id: string
                  country_id: string
                  counterparty_id: string
      description: Add a wallet to a couterparty
      tags:
        - Wallet
        - Counterparty
  '/api/v1/wallet/{id}':
    parameters:
      - schema:
          type: string
        name: id
        in: path
        required: true
    delete:
      summary: Remove a wallet
      operationId: delete-api-v1-wallet-id
      responses:
        '200':
          description: OK
      tags:
        - Wallet
        - Counterparty
      description: remove a wallet from a counterparty
  /api/V1/ledgers:
    get:
      summary: Get All Ledgers
      tags:
        - Account
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - id
                        - status
                        - nikname
                        - corporate_id
                        - individual_id
                      properties:
                        id:
                          type: string
                          minLength: 1
                        status:
                          type: string
                          minLength: 1
                        nikname:
                          type: string
                          minLength: 1
                        corporate_id:
                          type: string
                          minLength: 1
                        individual_id:
                          type: string
                          minLength: 1
                        balances:
                          type: array
                          uniqueItems: true
                          minItems: 1
                          items:
                            required:
                              - currency_id
                              - amount
                            properties:
                              currency_id:
                                type: string
                                minLength: 1
                              amount:
                                type: number
                  count:
                    type: number
                  per_page:
                    type: number
                  page:
                    type: number
                  page_count:
                    type: number
                required:
                  - data
                  - count
                  - per_page
                  - page
                  - page_count
              examples:
                example-1:
                  value:
                    data:
                      - id: uuid
                        status: active
                        nikname: Ledger 1
                        corporate_id: uuid
                        individual_id: uuid
                        balances:
                          - currency_id: EUR
                            amount: 100
                          - currency_id: USD
                            amount: 200
                    count: 2
                    per_page: 10
                    page: 1
                    page_count: 1
      operationId: get-api-V1-ledgers
      parameters:
        - schema:
            type: number
          in: query
          name: begin
          description: record to begin with (start at 0)
  /api/V1/bank-accounts:
    get:
      summary: Get All bank accounts
      tags:
        - Account
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          minLength: 1
                        iban:
                          type: string
                          minLength: 1
                        bic:
                          type: string
                          minLength: 1
                        ledger_id:
                          type: string
                          minLength: 1
                        account_number:
                          type: string
                      required:
                        - id
                  count:
                    type: number
                  per_page:
                    type: number
                  page:
                    type: number
                  page_count:
                    type: number
                required:
                  - data
                  - count
                  - per_page
                  - page
                  - page_count
              examples:
                example-1:
                  value:
                    data:
                      - id: 63410f58-c114-4a39-af47-09e4d5379c3b
                        iban: GB78OPEX00993029940876
                        bic: OPEXGB2L
                        ledger_id: 3f48fd18-3e38-4045-83e9-87ddd8d16211
                      - id: ca426234-9024-43c0-be7d-6e451d6b261b
                        account_number: '47501175'
                        ledger_id: 3f48fd18-3e38-4045-83e9-87ddd8d16211
                      - id: 63410f58-c114-4a39-af47-09e4d5379c3b
                        iban: GB78OPEX00993029940876
                        bic: OPEXGB2L
                        ledger_id: 9f8bee22-327a-4d0b-8623-28576bf84c80
                    count: 2
                    per_page: 10
                    page: 1
                    page_count: 1
      operationId: get-api-V1-accounts
      parameters:
        - schema:
            type: number
          in: query
          name: begin
          description: record to begin with (start at 0)
    parameters: []
  /tttttttt:
    get:
      summary: Your GET endpoint
      tags: []
      responses: {}
      operationId: get-tttttttt
      requestBody:
        content:
          application/json:
            schema:
              $ref: 'http://json-schema.org/draft-07/schema'
components:
  schemas:
    account:
      type: object
      properties:
        first_name:
          type: string
        last_name:
          type: string
        password:
          type: string
        email:
          type: string
        type:
          type: string
          enum:
            - individual
            - corporate
        company_name:
          type: string
        country:
          type: string
      x-examples:
        example-1:
          first_name: string
          last_name: string
          password: string
          email: string
          type: individual
          company_name: string
          country: string
    beneficiary:
      description: ''
      type: object
      properties:
        type:
          type: string
          minLength: 1
        company_name:
          type: string
          minLength: 1
        first_name:
          type: string
          minLength: 1
        last_name:
          type: string
          minLength: 1
        address:
          type: object
          properties:
            street_line1:
              type: string
              minLength: 1
            street_line2:
              type: string
              minLength: 1
            region:
              type: string
              minLength: 1
            city:
              type: string
              minLength: 1
            country:
              type: string
              minLength: 1
            postcode:
              type: string
              minLength: 1
          required:
            - street_line1
            - street_line2
            - region
            - city
            - country
            - postcode
        bank_accounts:
          type: array
          uniqueItems: true
          minItems: 1
          items:
            required:
              - iban
              - bic
              - currency
            properties:
              iban:
                type: string
                minLength: 1
              bic:
                type: string
                minLength: 1
              currency:
                type: string
                minLength: 1
      required:
        - type
        - company_name
        - first_name
        - last_name
        - address
        - bank_accounts
    payment:
      type: object
      x-examples:
        Payment Object  SCT:
          id: 71873979-1c48-44a1-b740-90a2bcb2835e
          amount: 10
          reason: Invoice 123
          method: FFCCTRNS
          payment_date: '2020-10-06'
          currency: EUR
          ledger:
            id: 9e51441c-de1a-4638-ba3a-6394f45b6b99
          beneficiary:
            id: 497f6eca-6276-4993-bfeb-53cbbbba6f08
      title: Payment
      description: This is the Payment object
      properties:
        type:
          type: string
          enum:
            - debit
        amount:
          type: integer
        reason:
          type: string
        beneficiary:
          type: object
          properties:
            id:
              type: string
        payment_date:
          type: string
        ledger:
          type: object
          properties:
            id:
              type: string
        methode:
          type: string
          enum:
            - FFCCTRNS
            - IFCCTRNS
        id:
          type: string
        status:
          type: string
    ledger:
      type: object
      properties:
        id:
          type: string
        iban:
          type: string
        balance:
          type: object
          properties:
            id:
              type: string
            amount:
              type: string
            currency:
              type: string
      x-examples:
        Ledger:
          id: b94d6b3d-0034-4772-abf2-16c237f7be9f
          iban: GB73OPEX00993093052561
          balance:
            id: 40a1e2d3-f401-47e9-b781-180cec1e32bc
            amount: '1000'
            currency: EUR
      description: This is the Ledger Object
      title: Ledger
    transaction:
      type: object
      x-examples:
        Transaction debit:
          id: b3a0dd34-6cf0-43d8-bca5-f56a58671c6a
          type: debit
          status: completed
          reason: Invoice 123
          amount: 10
          method: FFCCTRNS
          old_balance: 90
          currency: EUR
        Transaction credit:
          id: 3383dbd0-cbc9-4005-a00d-834d691e918f
          type: credit
          status: completed
          reason: Invoice 965
          amount: 15
          method: FFCCTRNS
          old_balance: 90
          currency: EUR
      title: Transaction
      description: This is the transaction Object
      properties:
        type:
          type: string
        status:
          type: string
        reason:
          type: string
        amount:
          type: integer
        method:
          type: string
          enum:
            - FFCCTRNS
            - IFCCTRNS
            - PACS003D
        old_balance:
          type: integer
        currency:
          type: string
    arrayOfBeneficiaries:
      title: arrayOfBeneficiaries
      type: array
      items:
        $ref: '#/components/schemas/beneficiary'
      x-examples:
        array Of Beneficiaries:
          - id: 537f6eca-6276-4993-bfeb-53cbbbba6d19
            iban: GB55OPEX00993010899608
            bank_address: 45 KING WILLIAM STREET REGIS HOUSE FLOOR 2
            bank_name: Openax Limited
            company_name: Smith Co.
            bic: OPEXGB2LXXX
            name: Smith
            address: 123 King street
            city: London
            type: corporate
            bank_country: UK
            currency: EUR
          - id: 497f6eca-6276-4993-bfeb-53cbbbba6f08
            iban: GB10OPEX00993074774433
            bank_address: 45 KING WILLIAM STREET REGIS HOUSE FLOOR 2
            bank_account_holder_name: John Doe
            bank_name: Openax Limited
            first_name: John
            last_name: Doe
            bic: OPEXGB2LXXX
            name: John
            address: 123 King street
            city: London
            type: individual
            bank_country: UK
            currency: EUR
    arrayOfLedgers:
      title: arrayOfLedgers
      type: array
      items:
        $ref: '#/components/schemas/ledger'
      x-examples:
        All Legers:
          - id: b94d6b3d-0034-4772-abf2-16c237f7be9f
            iban: GB73OPEX00993093052561
            balance:
              id: 40a1e2d3-f401-47e9-b781-180cec1e32bc
              amount: '1000'
              currency: EUR
          - id: 2b870cf2-94c3-46a1-924d-c8179db63d1d
            iban: GB37OPEX00993068086670
            balance:
              id: 66f773bc-5f89-424e-860f-d6e55195f23e
              amount: '900'
              currency: GBP
    Payout:
      description: ''
      type: object
      properties:
        amount:
          type: object
          properties:
            $ref:
              type: string
              minLength: 1
          required:
            - $ref
        currency_id:
          type: object
          properties:
            $ref:
              type: string
              minLength: 1
            description:
              type: string
              minLength: 1
          required:
            - $ref
            - description
        schedule_for:
          type: object
          properties:
            $ref:
              type: string
              minLength: 1
            description:
              type: string
              minLength: 1
            title:
              type: string
          required:
            - $ref
            - description
            - title
        reference:
          type: object
          properties:
            $ref:
              type: string
              minLength: 1
          required:
            - $ref
        ledger_id:
          type: object
          properties:
            $ref:
              type: string
              minLength: 1
          required:
            - $ref
        counterparty_id:
          type: object
          properties: {}
          required: []
        required:
          type: array
          items:
            required: []
            properties: {}
      required:
        - amount
        - currency_id
        - schedule_for
        - reference
        - ledger_id
        - counterparty_id
        - required
  links: {}
  callbacks: {}
  securitySchemes: {}
servers:
  - description: sandbox
    url: 'https://sandbox-b2b.openax.com'
  - description: Production
    url: 'https://b2b.openax.com'
security: []
tags:
  - name: Account
  - name: Transaction
  - name: mandate
  - name: Direct Debit
  - name: Debit
  - name: Payout
  - name: Counterparty
  - name: Wallet
